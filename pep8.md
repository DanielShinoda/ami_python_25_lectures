# Великий и ужасный PEP 8, или искусство написания читаемого кода

Официальный документ: [PEP 8 — Style Guide for Python Code](https://peps.python.org/pep-0008/)

## Почему это важно?

**Отдельная просьба ко всем: ПРОЧИТАТЬ его!** Это не большой документ, но он вводит ключевые соглашения о том, как следует писать код на Python. А всё потому, что **«readability counts»** («читабельность имеет значение»).

С одной стороны, это не жёсткий закон — интерпретатор исполнит код и без его соблюдения. Однако в рамках курса и контестов действует автоматическая проверка стиля (Style Guide), и код, нарушающий правила, может не пройти тесты.

С другой стороны, эти договорённости критически важны для командной работы. Когда вы открываете код коллеги, вы ожидаете увидеть его в предсказуемом, привычном формате, что значительно снижает затраты на понимание и поддержку кода.

## Ключевые выдержки из PEP 8

### 1. Отступы и длина строк
- **Отступы:** Используйте **4 пробела** на каждый уровень отступа.
- **Важно:** Никогда не смешивайте табы и пробелы. Современные редакторы (как Google Colab) можно настроить так, чтобы клавиша Tab автоматически вставляла пробелы.
- **Длина строки:** Ограничьте длину строки **79 символов**. Для кода в функциях/классах рекомендуется **72 символа**.
- **Перенос:** Если строка не помещается, используйте обратный слэш `\` или предпочтительный способ — перенос внутри скобок `()`, `[]`, `{}`.

### 2. Пустые строки и структура
- **Верхний уровень:** Функции и классы отделяются **двумя** пустыми строками.
- **Внутри класса:** Методы отделяются **одной** пустой строкой.
- **Импорты:** Всегда располагаются в **начале** файла. Каждый импорт на отдельной строке.
- Сначала импорты из стандартной библиотеки, затем сторонние, потом собственные модули. Каждую группу отделяйте пустой строкой.

### 3. Пробелы и пунктуация
- **Операторы:** Ставьте пробелы **до и после** операторов присваивания (`=`), сравнения (`==`, `<`, `>`, `!=` и т.д.) и арифметических операторов (`+`, `-`, `*`, `/`).
- Исключение: Для указания приоритета операций или в параметрах функций пробелы можно опускать.
- **Запятые, двоеточия, точки с запятой:** Ставьте пробел **после** них, но **не перед**.
    - *Правильно:* `def function(arg1, arg2):`, `list = [1, 2, 3]`
    - *Исключение:* `a_list[1:9]` или `function(arg1, arg2,]` — пробел перед закрывающей скобкой не нужен.
- **Кавычки:** Использование одинарных (`'`) или двойных (`"`) кавычек — дело вкуса. Главное правило — **консистентность** в рамках одного проекта.

### 4. Именование
- **Названия переменных и функций:** Должны быть читаемыми, нести смысл и записываться в **snake_case** (например, `calculate_total`, `user_data`).
- **Названия классов:** Используйте **CamelCase** (например, `class MyClass:`).
- **Константы:** Именуются в **UPPER_SNAKE_CASE** (например, `DEFAULT_TIMEOUT`, `MAX_CONNECTIONS`).

### 5. Прочие важные соглашения
- **Однострочные блоки:** Размещать условия (`if`) и циклы (`for`, `while`) на одной строке **не рекомендуется**. Явное выделение блоков отступами улучшает читаемость.
- **Комментарии:** Лучше иметь неидеальные комментарии, чем не иметь их вовсе. Комментарии должны объяснять **«почему»**, а не «что» (это и так видно из кода).
- **Возврат из функции:** В функции должен быть либо **везде** `return`, либо **нигде**. Избегайте ситуации, когда функция возвращает значение только в некоторых ветвях кода. Если возвращаемого значения нет, используйте `return None` или просто завершайте выполнение.

---

*Это лишь краткая выжимка. Для полного понимания всех нюансов настоятельно рекомендуется ознакомиться с полным текстом [PEP 8](https://peps.python.org/pep-0008/).*
